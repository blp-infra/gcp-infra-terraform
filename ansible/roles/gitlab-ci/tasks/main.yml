- name:  Configuring prompt
  ansible.builtin.lineinfile: 
     path: ~/.bashrc
     line: export PS1="\[\e[1;31m\]\u\[\e[0m\]@\[\e[1;34m\]{{ role_name }}\[\e[0m\] \w \$"
     state: present
     create: true

- name: Install curl 
  ansible.builtin.dnf:
     name: curl 
     state: present

- name: Install gitlab ce repo
  ansible.builtin.shell: | 
     curl "https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh" | sudo bash
    

- name: Install gitlab runner repository 
  ansible.builtin.shell: |
     curl -L "https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.rpm.sh" | sudo bash
     
- name: Install Gitlab community edition
  ansible.builtin.dnf: 
     name: gitlab-ce 
     state: present
       
- name: Install gitlab runner
  ansible.builtin.dnf:
     name: gitlab-runner
     state: present